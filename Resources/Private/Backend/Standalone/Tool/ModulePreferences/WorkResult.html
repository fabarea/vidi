<div class="navbar navbar-fixed-top">
	<div class="navbar-typo3">
		<div class="navbar navbar-fixed-top">
			<div class="navbar-typo3">
				<div class="container-fluid navbar-typo3-top">
					<div>
						<div class="row-fluid">
							<div class="span6">
							</div>
							<div class="span6">
							</div>
						</div>
					</div>
				</div>
				<div class="container-fluid navbar-typo3-bottom">
					<div>
						<div class="row-fluid">
							<div class="span6">
								<v:link.back/>
							</div>
							<div class="span6">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="container" style="padding-left: 10px;">
	<h4>
		<f:translate key="preferences_for" extensionName="vidi"/>
		{title}
	</h4>

	<f:form action="work" class="" controller="Tool" extensionName="vidi" pluginName="{moduleCode}"
	        additionalParams="{returnUrl: '{v:gp(argument: \'returnUrl\', encode: false)}'}">
		<f:form.hidden name="tool" value="Fab\Vidi\Tool\ModulePreferencesTool"/>

		<div class="control-group">
			<label class="control-label" for="menuVisibleItems">
				<f:translate key="menu_visible_items" extensionName="vidi"/>
			</label>
			<div class="controls">
				<f:form.textfield name="arguments[menuVisibleItems]" id="menuVisibleItems" value="{menuVisibleItems}"/>
			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="menuVisibleItemsDefault">
				<f:translate key="menu_visible_items_default" extensionName="vidi"/>
			</label>
			<div class="controls">
				<f:form.textfield name="arguments[menuVisibleItemsDefault]" id="menuVisibleItemsDefault" value="{menuVisibleItemsDefault}"/>
			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="defaultLength">
				<f:translate key="visible_columns" extensionName="vidi"/>
			</label>
			<div class="controls">
				<ul class="unstyled" style="max-height: 340px; overflow-y: scroll">
					<f:for each="{columns}" as="column" iteration="iterator">
						<li>
							<label>
								<div class="checkbox-placeholder">
									<f:form.checkbox name="arguments[excluded_fields][]" value="{column}"
									                 id="checkbox-{column}"
									                 class="checkbox-file"
									                 checked="{v:grid.column.isExcluded(name: '{column}')}"/>
									{column}
								</div>
							</label>
						</li>
					</f:for>
				</ul>
			</div>
		</div>
		<div class="control-group">
			<div class="controls">
				<f:form.submit name="arguments[save]" value="{f:translate(key:'save', extensionName: 'vidi')}"/>
			</div>
		</div>
	</f:form>
</div>
{namespace v=Fab\Vidi\ViewHelpers}